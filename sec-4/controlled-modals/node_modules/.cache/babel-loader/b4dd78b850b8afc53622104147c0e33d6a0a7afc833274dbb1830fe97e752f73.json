{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nexport const UncontrolledFlow = _ref => {\n  _s();\n  let {\n    children,\n    onDone\n  } = _ref;\n  const [data, setData] = useState({});\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const goNext = dataFromStep => {\n    const nextStepIndex = currentStepIndex + 1;\n    const newData = {\n      ...data,\n      ...dataFromStep\n    };\n    console.log(newData);\n    if (nextStepIndex < children.length) {\n      setCurrentStepIndex(nextStepIndex);\n    } else {\n      onDone(newData);\n    }\n    setData(newData);\n    setCurrentStepIndex(currentStepIndex + 1);\n  };\n  const currentChild = React.Children.toArray(children)[currentStepIndex];\n  if ( /*#__PURE__*/React.isValidElement(currentChild)) {\n    return /*#__PURE__*/React.cloneElement(currentChild, {\n      goNext\n    });\n  }\n  return currentChild;\n};\n_s(UncontrolledFlow, \"gILck5VZsBsKhbmMi1eTU3U9sVc=\");\n_c = UncontrolledFlow;\nvar _c;\n$RefreshReg$(_c, \"UncontrolledFlow\");","map":{"version":3,"names":["React","useState","UncontrolledFlow","_ref","_s","children","onDone","data","setData","currentStepIndex","setCurrentStepIndex","goNext","dataFromStep","nextStepIndex","newData","console","log","length","currentChild","Children","toArray","isValidElement","cloneElement","_c","$RefreshReg$"],"sources":["/home/matheus/advanced-react/sec-4/controlled-modals/src/components/uncontrolled-flow.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nexport const UncontrolledFlow = ({ children, onDone }) => {\n  const [data, setData] = useState({});\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const goNext = (dataFromStep) => {\n    const nextStepIndex = currentStepIndex + 1;\n    const newData = { ...data, ...dataFromStep };\n    console.log(newData);\n    if (nextStepIndex < children.length) {\n      setCurrentStepIndex(nextStepIndex);\n    } else {\n      onDone(newData);\n    }\n    setData(newData);\n    setCurrentStepIndex(currentStepIndex + 1);\n  };\n  const currentChild = React.Children.toArray(children)[currentStepIndex];\n  if (React.isValidElement(currentChild)) {\n    return React.cloneElement(currentChild, { goNext });\n  }\n  return currentChild;\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,OAAO,MAAMC,gBAAgB,GAAGC,IAAA,IAA0B;EAAAC,EAAA;EAAA,IAAzB;IAAEC,QAAQ;IAAEC;EAAO,CAAC,GAAAH,IAAA;EACnD,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAACQ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAMU,MAAM,GAAIC,YAAY,IAAK;IAC/B,MAAMC,aAAa,GAAGJ,gBAAgB,GAAG,CAAC;IAC1C,MAAMK,OAAO,GAAG;MAAE,GAAGP,IAAI;MAAE,GAAGK;IAAa,CAAC;IAC5CG,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACpB,IAAID,aAAa,GAAGR,QAAQ,CAACY,MAAM,EAAE;MACnCP,mBAAmB,CAACG,aAAa,CAAC;IACpC,CAAC,MAAM;MACLP,MAAM,CAACQ,OAAO,CAAC;IACjB;IACAN,OAAO,CAACM,OAAO,CAAC;IAChBJ,mBAAmB,CAACD,gBAAgB,GAAG,CAAC,CAAC;EAC3C,CAAC;EACD,MAAMS,YAAY,GAAGlB,KAAK,CAACmB,QAAQ,CAACC,OAAO,CAACf,QAAQ,CAAC,CAACI,gBAAgB,CAAC;EACvE,kBAAIT,KAAK,CAACqB,cAAc,CAACH,YAAY,CAAC,EAAE;IACtC,oBAAOlB,KAAK,CAACsB,YAAY,CAACJ,YAAY,EAAE;MAAEP;IAAO,CAAC,CAAC;EACrD;EACA,OAAOO,YAAY;AACrB,CAAC;AAACd,EAAA,CApBWF,gBAAgB;AAAAqB,EAAA,GAAhBrB,gBAAgB;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}